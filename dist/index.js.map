{"version":3,"file":"index.js","sources":["../src/types/public-types.ts","../src/helpers/date-helper.ts","../src/components/task-list/task-list-header.tsx","../src/components/task-list/task-list-table.tsx","../src/components/other/tooltip.tsx","../src/components/other/vertical-scroll.tsx","../src/components/task-list/task-list.tsx","../src/components/grid/grid-body.tsx","../src/components/grid/grid.tsx","../src/components/calendar/top-part-of-calendar.tsx","../src/components/calendar/calendar.tsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/components/other/arrow.tsx","../src/helpers/bar-helper.ts","../src/helpers/other-helper.ts","../src/components/task-item/bar/bar-display.tsx","../src/components/task-item/bar/bar-date-handle.tsx","../src/components/task-item/bar/bar-progress-handle.tsx","../src/components/task-item/bar/bar.tsx","../src/components/task-item/bar/bar-small.tsx","../src/components/task-item/milestone/milestone.tsx","../src/components/task-item/project/project.tsx","../src/components/task-item/task-item.tsx","../src/components/gantt/task-gantt-content.tsx","../src/components/gantt/task-gantt.tsx","../src/components/other/horizontal-scroll.tsx","../src/components/gantt/gantt.tsx"],"sourcesContent":["export enum ViewMode {\n  Hour = \"Hour\",\n  QuarterDay = \"Quarter Day\",\n  HalfDay = \"Half Day\",\n  Day = \"Day\",\n  /** ISO-8601 week */\n  Week = \"Week\",\n  Month = \"Month\",\n  QuarterYear = \"QuarterYear\",\n  Year = \"Year\",\n}\nexport type TaskType = \"task\" | \"milestone\" | \"project\";\nexport interface Task {\n  id: string;\n  type: TaskType;\n  name: string;\n  start: Date;\n  end: Date;\n  estimated_cost: string;\n  actual_cost: string;\n  /**\n   * From 0 to 100\n   */\n  progress: number;\n  styles?: {\n    backgroundColor?: string;\n    backgroundSelectedColor?: string;\n    progressColor?: string;\n    progressSelectedColor?: string;\n  };\n  isDisabled?: boolean;\n  project?: string;\n  dependencies?: string[];\n  hideChildren?: boolean;\n  displayOrder?: number;\n}\n\nexport interface EventOption {\n  /**\n   * Time step value for date changes.\n   */\n  timeStep?: number;\n  /**\n   * Invokes on bar select on unselect.\n   */\n  onSelect?: (task: Task, isSelected: boolean) => void;\n  /**\n   * Invokes on bar double click.\n   */\n  onDoubleClick?: (task: Task) => void;\n  /**\n   * Invokes on bar click.\n   */\n  onClick?: (task: Task) => void;\n  /**\n   * Invokes on end and start time change. Chart undoes operation if method return false or error.\n   */\n  onDateChange?: (\n    task: Task,\n    children: Task[]\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on progress change. Chart undoes operation if method return false or error.\n   */\n  onProgressChange?: (\n    task: Task,\n    children: Task[]\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on delete selected task. Chart undoes operation if method return false or error.\n   */\n  onDelete?: (task: Task) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on expander on task list\n   */\n  onExpanderClick?: (task: Task) => void;\n}\n\nexport interface DisplayOption {\n  viewMode?: ViewMode;\n  viewDate?: Date;\n  preStepsCount?: number;\n  /**\n   * Specifies the month name language. Able formats: ISO 639-2, Java Locale\n   */\n  locale?: string;\n  rtl?: boolean;\n}\n\nexport interface StylingOption {\n  headerHeight?: number;\n  columnWidth?: number;\n  rightSideElement?: any;\n  dateTimeStartComponent?: any,\n  dateTimeEndComponent?: any,\n  isShown?: any,\n  fetchData?: () => void;\n  onClickTask?: (task_id: string) => void;\n  taskWidth?: number;\n  listCellWidth?: string;\n  rowHeight?: number;\n  ganttHeight?: number;\n  barCornerRadius?: number;\n  handleWidth?: number;\n  fontFamily?: string;\n  fontSize?: string;\n  /**\n   * How many of row width can be taken by task.\n   * From 0 to 100\n   */\n  barFill?: number;\n  barProgressColor?: string;\n  barProgressSelectedColor?: string;\n  barBackgroundColor?: string;\n  barBackgroundSelectedColor?: string;\n  projectProgressColor?: string;\n  projectProgressSelectedColor?: string;\n  projectBackgroundColor?: string;\n  projectBackgroundSelectedColor?: string;\n  milestoneBackgroundColor?: string;\n  milestoneBackgroundSelectedColor?: string;\n  arrowColor?: string;\n  arrowIndent?: number;\n  todayColor?: string;\n  TooltipContent?: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n  TaskListHeader?: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    taskWidth: number;\n    fontFamily: string;\n    fontSize: string;\n    isShown: any;\n  }>;\n  TaskListTable?: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    taskWidth: number;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    rightSideElement: any;\n    dateTimeStartComponent: any;\n    dateTimeEndComponent: any;\n    isShown: any;\n    fetchData: () => void;\n    onClickTask: (task_id: string) => void;\n    /**\n     * Sets selected task by id\n     */\n    setSelectedTask: (taskId: string) => void;\n    onExpanderClick: (task: Task) => void;\n  }>;\n}\n\nexport interface GanttProps extends EventOption, DisplayOption, StylingOption {\n  tasks: Task[];\n}","import { Task, ViewMode } from \"../types/public-types\";\nimport DateTimeFormatOptions = Intl.DateTimeFormatOptions;\nimport DateTimeFormat = Intl.DateTimeFormat;\n\ntype DateHelperScales =\n  | \"year\"\n  | \"month\"\n  | \"day\"\n  | \"hour\"\n  | \"minute\"\n  | \"second\"\n  | \"millisecond\";\n\nconst intlDTCache = {};\nexport const getCachedDateTimeFormat = (\n  locString: string | string[],\n  opts: DateTimeFormatOptions = {}\n): DateTimeFormat => {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlDTCache[key];\n  if (!dtf) {\n    dtf = new Intl.DateTimeFormat(locString, opts);\n    intlDTCache[key] = dtf;\n  }\n  return dtf;\n};\n\nexport const addToDate = (\n  date: Date,\n  quantity: number,\n  scale: DateHelperScales\n) => {\n  const newDate = new Date(\n    date.getFullYear() + (scale === \"year\" ? quantity : 0),\n    date.getMonth() + (scale === \"month\" ? quantity : 0),\n    date.getDate() + (scale === \"day\" ? quantity : 0),\n    date.getHours() + (scale === \"hour\" ? quantity : 0),\n    date.getMinutes() + (scale === \"minute\" ? quantity : 0),\n    date.getSeconds() + (scale === \"second\" ? quantity : 0),\n    date.getMilliseconds() + (scale === \"millisecond\" ? quantity : 0)\n  );\n  return newDate;\n};\n\nexport const startOfDate = (date: Date, scale: DateHelperScales) => {\n  const scores = [\n    \"millisecond\",\n    \"second\",\n    \"minute\",\n    \"hour\",\n    \"day\",\n    \"month\",\n    \"year\",\n  ];\n\n  const shouldReset = (_scale: DateHelperScales) => {\n    const maxScore = scores.indexOf(scale);\n    return scores.indexOf(_scale) <= maxScore;\n  };\n  const newDate = new Date(\n    date.getFullYear(),\n    shouldReset(\"year\") ? 0 : date.getMonth(),\n    shouldReset(\"month\") ? 1 : date.getDate(),\n    shouldReset(\"day\") ? 0 : date.getHours(),\n    shouldReset(\"hour\") ? 0 : date.getMinutes(),\n    shouldReset(\"minute\") ? 0 : date.getSeconds(),\n    shouldReset(\"second\") ? 0 : date.getMilliseconds()\n  );\n  return newDate;\n};\n\nexport const ganttDateRange = (\n  tasks: Task[],\n  viewMode: ViewMode,\n  preStepsCount: number\n) => {\n  let newStartDate: Date = tasks[0].start;\n  let newEndDate: Date = tasks[0].start;\n  for (const task of tasks) {\n    if (task.start < newStartDate) {\n      newStartDate = task.start;\n    }\n    if (task.end > newEndDate) {\n      newEndDate = task.end;\n    }\n  }\n  switch (viewMode) {\n    case ViewMode.Year:\n      newStartDate = addToDate(newStartDate, -1, \"year\");\n      newStartDate = startOfDate(newStartDate, \"year\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.QuarterYear:\n      newStartDate = addToDate(newStartDate, -3, \"month\");\n      newStartDate = startOfDate(newStartDate, \"month\");\n      newEndDate = addToDate(newEndDate, 3, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Month:\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"month\");\n      newStartDate = startOfDate(newStartDate, \"month\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Week:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(\n        getMonday(newStartDate),\n        -7 * preStepsCount,\n        \"day\"\n      );\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 1.5, \"month\");\n      break;\n    case ViewMode.Day:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 19, \"day\");\n      break;\n    case ViewMode.QuarterDay:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 66, \"hour\"); // 24(1 day)*3 - 6\n      break;\n    case ViewMode.HalfDay:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 108, \"hour\"); // 24(1 day)*5 - 12\n      break;\n    case ViewMode.Hour:\n      newStartDate = startOfDate(newStartDate, \"hour\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"hour\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 1, \"day\");\n      break;\n  }\n  return [newStartDate, newEndDate];\n};\n\nexport const seedDates = (\n  startDate: Date,\n  endDate: Date,\n  viewMode: ViewMode\n) => {\n  let currentDate: Date = new Date(startDate);\n  const dates: Date[] = [currentDate];\n  while (currentDate < endDate) {\n    switch (viewMode) {\n      case ViewMode.Year:\n        currentDate = addToDate(currentDate, 1, \"year\");\n        break;\n      case ViewMode.QuarterYear:\n        currentDate = addToDate(currentDate, 3, \"month\");\n        break;\n      case ViewMode.Month:\n        currentDate = addToDate(currentDate, 1, \"month\");\n        break;\n      case ViewMode.Week:\n        currentDate = addToDate(currentDate, 7, \"day\");\n        break;\n      case ViewMode.Day:\n        currentDate = addToDate(currentDate, 1, \"day\");\n        break;\n      case ViewMode.HalfDay:\n        currentDate = addToDate(currentDate, 12, \"hour\");\n        break;\n      case ViewMode.QuarterDay:\n        currentDate = addToDate(currentDate, 6, \"hour\");\n        break;\n      case ViewMode.Hour:\n        currentDate = addToDate(currentDate, 1, \"hour\");\n        break;\n    }\n    dates.push(currentDate);\n  }\n  return dates;\n};\n\nexport const getLocaleMonth = (date: Date, locale: string) => {\n  let bottomValue = getCachedDateTimeFormat(locale, {\n    month: \"long\",\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\nexport const getLocalDayOfWeek = (\n  date: Date,\n  locale: string,\n  format?: \"long\" | \"short\" | \"narrow\" | undefined\n) => {\n  let bottomValue = getCachedDateTimeFormat(locale, {\n    weekday: format,\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\n/**\n * Returns monday of current week\n * @param date date for modify\n */\nconst getMonday = (date: Date) => {\n  const day = date.getDay();\n  const diff = date.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n  return new Date(date.setDate(diff));\n};\n\nexport const getWeekNumberISO8601 = (date: Date) => {\n  const tmpDate = new Date(date.valueOf());\n  const dayNumber = (tmpDate.getDay() + 6) % 7;\n  tmpDate.setDate(tmpDate.getDate() - dayNumber + 3);\n  const firstThursday = tmpDate.valueOf();\n  tmpDate.setMonth(0, 1);\n  if (tmpDate.getDay() !== 4) {\n    tmpDate.setMonth(0, 1 + ((4 - tmpDate.getDay() + 7) % 7));\n  }\n  const weekNumber = (\n    1 + Math.ceil((firstThursday - tmpDate.valueOf()) / 604800000)\n  ).toString();\n\n  if (weekNumber.length === 1) {\n    return `0${weekNumber}`;\n  } else {\n    return weekNumber;\n  }\n};\n\nexport const getDaysInMonth = (month: number, year: number) => {\n  return new Date(year, month + 1, 0).getDate();\n};\n","import React from \"react\";\nimport styles from \"./task-list-header.module.css\";\n\nexport const TaskListHeaderDefault: React.FC<{\n  headerHeight: number;\n  rowWidth: string;\n  taskWidth:number;\n  fontFamily: string;\n  fontSize: string;\n  isShown: any;\n}> = ({ headerHeight, fontFamily, fontSize, rowWidth, taskWidth, isShown }) => {\n  return (\n    <div\n      className={styles.ganttTable}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      <div\n        className={styles.ganttTable_Header}\n        style={{\n          height: headerHeight - 2,\n        }}\n      >\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: taskWidth,\n            textAlign:'center'\n          }}\n        >\n          Task\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.2,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n            textAlign:'center'\n          }}\n        >\n          From\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.25,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n            textAlign:'center'\n          }}\n        >\n          To\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.2,\n          }}\n        />\n        {isShown?.duration&&<div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n            textAlign:'center'\n          }}\n        >\n          Duration\n        </div>}\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.2,\n          }}\n        />     \n        {isShown?.progress&&<div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n            textAlign:'center'\n          }}\n        >\n          Progress\n        </div>}\n        {isShown?.estimatedCost&&<div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n            textAlign:'center'\n          }}\n        >\n          Estimated Cost\n        </div>}\n        {isShown?.actualCost&&<div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n            textAlign:'center'\n          }}\n        >\n          Actual Cost\n        </div>}\n      </div>\n    </div>\n  );\n};","import React, { useState } from \"react\";\nimport styles from \"./task-list-table.module.css\";\nimport { Task } from \"../../types/public-types\";\n\n// const localeDateStringCache = {};\n// const toLocaleDateStringFactory =\n//   (locale: string) =>\n//   (date: Date, dateTimeOptions: Intl.DateTimeFormatOptions) => {\n//     const key = date.toString();\n//     let lds = localeDateStringCache[key];\n//     if (!lds) {\n//       lds = date.toLocaleDateString(locale, dateTimeOptions).replace(/[/]/g, '-');\n//       localeDateStringCache[key] = lds;\n//     }\n//     return lds;\n//   };\n\n  const calculateTimeDifference = (startDate:any, endDate:any, unit = 'days') => {\n    const diffInMs = endDate - startDate;\n  \n    if (unit === 'hours') {\n      const diffInHours = Math.floor(diffInMs / 3600000); // Convert milliseconds to hours\n      return `${diffInHours}h`;\n    } else {\n      // Fallback to days\n      const diffInDays = Math.floor(diffInMs / (3600000 * 24)); // Convert milliseconds to days\n      return `${diffInDays}d`;\n    }\n  };\n\n// const dateTimeOptions: Intl.DateTimeFormatOptions = {\n//   // weekday: \"short\",\n//   // year: \"numeric\",\n//   // month: \"long\",\n//   // day: \"numeric\",\n//   year: 'numeric',\n//   month: '2-digit',\n//   day: '2-digit',\n// };\n\nexport const TaskListTableDefault: React.FC<{\n  rowHeight: number;\n  rowWidth: string;\n  taskWidth: number;\n  rightSideElement:any;\n  isShown: any;\n  dateTimeStartComponent:any;\n  dateTimeEndComponent:any;\n  fetchData: () => void;\n  onClickTask: (task_id: string) => void;\n  fontFamily: string;\n  fontSize: string;\n  locale: string;\n  tasks: Task[];\n  selectedTaskId: string;\n  setSelectedTask: (taskId: string) => void;\n  onExpanderClick: (task: Task) => void;\n}> = ({\n  rowHeight,\n  rowWidth,\n  taskWidth,\n  rightSideElement,\n  dateTimeStartComponent,\n  dateTimeEndComponent,\n  isShown,\n  fetchData,\n  onClickTask,\n  tasks,\n  fontFamily,\n  fontSize,\n  locale,\n  onExpanderClick,\n}) => {\n  // const toLocaleDateString = useMemo(\n  //   () => toLocaleDateStringFactory(locale),\n  //   [locale]\n  // );\n\n  const [hoveredTasks, setHoveredTasks] = useState({});\n  \n\n  // Function to handle hover enter for a specific task\n  const handleMouseEnter = (taskId:string) => {\n    setHoveredTasks((prevState) => ({\n      ...prevState,\n      [taskId]: true,\n    }));\n  };\n\n  // Function to handle hover leave for a specific task\n  const handleMouseLeave = (taskId:string) => {\n    setHoveredTasks((prevState) => ({\n      ...prevState,\n      [taskId]: false,\n    }));\n  };\n\n  const updateTimer = (taskId:string) => {\n    const updatedElement = React.cloneElement(rightSideElement, {'taskId':taskId, 'fetchData':fetchData,'locale':locale})\n    return updatedElement;\n  };\n\n  const updateStartDatePicker = (taskId:string) => {\n    const updatedElement = React.cloneElement(dateTimeStartComponent, {'taskId':taskId})\n    return updatedElement;\n  };\n\n  const updateEndDatePicker = (taskId:string) => {\n    const updatedElement = React.cloneElement(dateTimeEndComponent, {'taskId':taskId})\n    return updatedElement;\n  };\n\n  return (\n    <div\n      className={styles.taskListWrapper}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      {tasks.map(t => {\n        let expanderSymbol = \"\";\n        if (t.hideChildren === false) {\n          expanderSymbol = \"▼\";\n        } else if (t.hideChildren === true) {\n          expanderSymbol = \"▶\";\n        }\n\n        return (\n          <div\n            className={styles.taskListTableRow}\n            style={{ height: rowHeight }}\n            key={`${t.id}row`}\n          >\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: taskWidth,\n                maxWidth: taskWidth,\n                position:'relative',\n                backgroundColor: (hoveredTasks[t.id]) ?\"#efefef\":\"\",\n              }}\n              title={t.name}\n              onMouseEnter={() => handleMouseEnter(t.id)}\n              onMouseLeave={() => handleMouseLeave(t.id)}  \n            >\n              <div className={styles.taskListNameWrapper}>\n                <div\n                  className={\n                    expanderSymbol\n                      ? styles.taskListExpander\n                      : styles.taskListEmptyExpander\n                  }\n                  onClick={() => onExpanderClick(t)}\n                >\n                  {expanderSymbol}\n                </div>\n                <div style={{minWidth:taskWidth, maxWidth: taskWidth}}>\n                  <span onClick={()=>{ onClickTask(t.id); }}>{t.name}</span>\n                  {!expanderSymbol && <div style={{\n                          margin: \"0px\",\n                          position: \"absolute\",\n                          width: \"50%\",\n                          right: \"0px\",\n                          color: \"black\",\n                          backgroundColor: (hoveredTasks[t.id]) ?\"#efefef\":\"\",\n                          opacity: (hoveredTasks[t.id]) ? 1 : 0,\n                          top: 0,\n                          height: \"100%\",\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          paddingLeft: \"5px\",\n                        }}>\n                          &nbsp;{updateTimer(t.id)}\n                  </div>}\n                </div>\n              </div>\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n                textAlign:\"center\"\n              }}\n            >\n              {/* &nbsp;{toLocaleDateString(t.start, dateTimeOptions)} */}\n              {updateStartDatePicker(t.id)}\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n                textAlign:\"center\"\n              }}\n            >\n              {/* &nbsp;{toLocaleDateString(t.end, dateTimeOptions)} */}\n              {updateEndDatePicker(t.id)}\n            </div>\n            {isShown?.duration&&<div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n                textAlign:\"center\"\n              }}\n            >\n              &nbsp;{!expanderSymbol && calculateTimeDifference(t.start, t.end)}\n            </div>}\n            {isShown?.progress&&<div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n                textAlign:\"center\"\n              }}\n            >\n              {!expanderSymbol && <div style={{position:'relative', width: '80%',height:'18px', fontSize:'10px',border:'1px solid #228b22'}}>\n                  <div style={{height:'100%', backgroundColor:'#228b22', width:`${(t.progress>0)?t.progress:'0'}%`}}>&nbsp;</div>\n                  {t.progress < 60 &&<div style={{position:'absolute', top:'0px', left:'0px', width:'100%', color:'#000000',textAlign:'right', paddingRight:3, paddingLeft:3}}>{(t.progress>0)?t.progress:'0'}%</div>}\n                  {t.progress >= 60 &&<div style={{position:'absolute', top:'0px', left:'0px', width:'100%', color:'#ffffff',textAlign:'left', paddingRight:3, paddingLeft:3}}>{(t.progress>0)?t.progress:'0'}%</div>}\n              </div>}\n            </div>}\n            {isShown?.estimatedCost&&<div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n                textAlign:\"right\"\n              }}\n            >{t?.estimated_cost}</div>}\n            {isShown?.actualCost&&<div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n                textAlign:\"right\"\n              }}\n            >{t?.actual_cost}</div>}\n          </div>\n        );\n      })}\n    </div>\n  );\n};","import React, { useRef, useEffect, useState } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport styles from \"./tooltip.module.css\";\n\nexport type TooltipProps = {\n  task: BarTask;\n  arrowIndent: number;\n  rtl: boolean;\n  svgContainerHeight: number;\n  svgContainerWidth: number;\n  svgWidth: number;\n  headerHeight: number;\n  taskListWidth: number;\n  scrollX: number;\n  scrollY: number;\n  rowHeight: number;\n  fontSize: string;\n  fontFamily: string;\n  TooltipContent: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n};\nexport const Tooltip: React.FC<TooltipProps> = ({\n  task,\n  rowHeight,\n  rtl,\n  svgContainerHeight,\n  svgContainerWidth,\n  scrollX,\n  scrollY,\n  arrowIndent,\n  fontSize,\n  fontFamily,\n  headerHeight,\n  taskListWidth,\n  TooltipContent,\n}) => {\n  const tooltipRef = useRef<HTMLDivElement | null>(null);\n  const [relatedY, setRelatedY] = useState(0);\n  const [relatedX, setRelatedX] = useState(0);\n  useEffect(() => {\n    if (tooltipRef.current) {\n      const tooltipHeight = tooltipRef.current.offsetHeight * 1.1;\n      const tooltipWidth = tooltipRef.current.offsetWidth * 1.1;\n\n      let newRelatedY = task.index * rowHeight - scrollY + headerHeight;\n      let newRelatedX: number;\n      if (rtl) {\n        newRelatedX = task.x1 - arrowIndent * 1.5 - tooltipWidth - scrollX;\n        if (newRelatedX < 0) {\n          newRelatedX = task.x2 + arrowIndent * 1.5 - scrollX;\n        }\n        const tooltipLeftmostPoint = tooltipWidth + newRelatedX;\n        if (tooltipLeftmostPoint > svgContainerWidth) {\n          newRelatedX = svgContainerWidth - tooltipWidth;\n          newRelatedY += rowHeight;\n        }\n      } else {\n        newRelatedX = task.x2 + arrowIndent * 1.5 + taskListWidth - scrollX;\n        const tooltipLeftmostPoint = tooltipWidth + newRelatedX;\n        const fullChartWidth = taskListWidth + svgContainerWidth;\n        if (tooltipLeftmostPoint > fullChartWidth) {\n          newRelatedX =\n            task.x1 +\n            taskListWidth -\n            arrowIndent * 1.5 -\n            scrollX -\n            tooltipWidth;\n        }\n        if (newRelatedX < taskListWidth) {\n          newRelatedX = svgContainerWidth + taskListWidth - tooltipWidth;\n          newRelatedY += rowHeight;\n        }\n      }\n\n      const tooltipLowerPoint = tooltipHeight + newRelatedY - scrollY;\n      if (tooltipLowerPoint > svgContainerHeight - scrollY) {\n        newRelatedY = svgContainerHeight - tooltipHeight;\n      }\n      setRelatedY(newRelatedY);\n      setRelatedX(newRelatedX);\n    }\n  }, [\n    tooltipRef,\n    task,\n    arrowIndent,\n    scrollX,\n    scrollY,\n    headerHeight,\n    taskListWidth,\n    rowHeight,\n    svgContainerHeight,\n    svgContainerWidth,\n    rtl,\n  ]);\n\n  return (\n    <div\n      ref={tooltipRef}\n      className={\n        relatedX\n          ? styles.tooltipDetailsContainer\n          : styles.tooltipDetailsContainerHidden\n      }\n      style={{ left: relatedX, top: relatedY }}\n    >\n      <TooltipContent task={task} fontSize={fontSize} fontFamily={fontFamily} />\n    </div>\n  );\n};\n\nexport const StandardTooltipContent: React.FC<{\n  task: Task;\n  fontSize: string;\n  fontFamily: string;\n}> = ({ task, fontSize, fontFamily }) => {\n  const style = {\n    fontSize,\n    fontFamily,\n  };\n  return (\n    <div className={styles.tooltipDefaultContainer} style={style}>\n      <b style={{ fontSize: fontSize + 6 }}>{`${\n        task.name\n      }: ${task.start.getDate()}-${\n        task.start.getMonth() + 1\n      }-${task.start.getFullYear()} - ${task.end.getDate()}-${\n        task.end.getMonth() + 1\n      }-${task.end.getFullYear()}`}</b>\n      {task.end.getTime() - task.start.getTime() !== 0 && (\n        <p className={styles.tooltipDefaultContainerParagraph}>{`Duration: ${~~(\n          (task.end.getTime() - task.start.getTime()) /\n          (1000 * 60 * 60 * 24)\n        )} day(s)`}</p>\n      )}\n\n      <p className={styles.tooltipDefaultContainerParagraph}>\n        {!!task.progress && `Progress: ${task.progress} %`}\n      </p>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./vertical-scroll.module.css\";\n\nexport const VerticalScroll: React.FC<{\n  scroll: number;\n  ganttHeight: number;\n  ganttFullHeight: number;\n  headerHeight: number;\n  rtl: boolean;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({\n  scroll,\n  ganttHeight,\n  ganttFullHeight,\n  headerHeight,\n  rtl,\n  onScroll,\n}) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scroll;\n    }\n  }, [scroll]);\n\n  return (\n    <div\n      style={{\n        height: ganttHeight,\n        marginTop: headerHeight,\n        marginLeft: rtl ? \"\" : \"-1rem\",\n      }}\n      className={styles.scroll}\n      onScroll={onScroll}\n      ref={scrollRef}\n    >\n      <div style={{ height: ganttFullHeight, width: 1 }} />\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Task } from \"../../types/public-types\";\n\nexport type TaskListProps = {\n  headerHeight: number;\n  rowWidth: string;\n  taskWidth: number;\n  rightSideElement:any;\n  dateTimeStartComponent:any;\n  dateTimeEndComponent:any;\n  isShown:any;\n  fetchData: () => void;\n  onClickTask: (task_id: string) => void;\n  fontFamily: string;\n  fontSize: string;\n  rowHeight: number;\n  ganttHeight: number;\n  scrollY: number;\n  locale: string;\n  tasks: Task[];\n  taskListRef: React.RefObject<HTMLDivElement>;\n  horizontalContainerClass?: string;\n  selectedTask: BarTask | undefined;\n  setSelectedTask: (task: string) => void;\n  onExpanderClick: (task: Task) => void;\n  TaskListHeader: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    taskWidth: number;\n    fontFamily: string;\n    fontSize: string;\n    isShown: any;\n  }>;\n  TaskListTable: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    taskWidth: number;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    rightSideElement: any;\n    dateTimeStartComponent: any;\n    dateTimeEndComponent: any;\n    isShown:any;\n    fetchData: () => void;\n    onClickTask: (task_id: string) => void,\n    setSelectedTask: (taskId: string) => void;\n    onExpanderClick: (task: Task) => void;\n  }>;\n};\n\nexport const TaskList: React.FC<TaskListProps> = ({\n  headerHeight,\n  fontFamily,\n  fontSize,\n  rowWidth,\n  taskWidth,\n  rightSideElement,\n  dateTimeStartComponent,\n  dateTimeEndComponent,\n  isShown,\n  fetchData,\n  onClickTask,\n  rowHeight,\n  scrollY,\n  tasks,\n  selectedTask,\n  setSelectedTask,\n  onExpanderClick,\n  locale,\n  ganttHeight,\n  taskListRef,\n  horizontalContainerClass,\n  TaskListHeader,\n  TaskListTable,\n}) => {\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  const headerProps = {\n    headerHeight,\n    fontFamily,\n    fontSize,\n    rowWidth,\n    taskWidth,\n    isShown,\n  };\n  const selectedTaskId = selectedTask ? selectedTask.id : \"\";\n  const tableProps = {\n    rowHeight,\n    rowWidth,\n    taskWidth,\n    rightSideElement,\n    dateTimeStartComponent,\n    dateTimeEndComponent,\n    isShown,\n    fetchData,\n    onClickTask,\n    fontFamily,\n    fontSize,\n    tasks,\n    locale,\n    selectedTaskId: selectedTaskId,\n    setSelectedTask,\n    onExpanderClick,\n  };\n\n  return (\n    <div ref={taskListRef}>\n      <TaskListHeader {...headerProps} />\n      <div\n        ref={horizontalContainerRef}\n        className={horizontalContainerClass}\n        style={ganttHeight ? { height: ganttHeight } : {}}\n      >\n        <TaskListTable {...tableProps} />\n      </div>\n    </div>\n  );\n};","import React, { ReactChild } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { addToDate } from \"../../helpers/date-helper\";\nimport styles from \"./grid.module.css\";\n\nexport type GridBodyProps = {\n  tasks: Task[];\n  dates: Date[];\n  svgWidth: number;\n  rowHeight: number;\n  columnWidth: number;\n  todayColor: string;\n  rtl: boolean;\n};\nexport const GridBody: React.FC<GridBodyProps> = ({\n  tasks,\n  dates,\n  rowHeight,\n  svgWidth,\n  columnWidth,\n  todayColor,\n  rtl,\n}) => {\n  let y = 0;\n  const gridRows: ReactChild[] = [];\n  const rowLines: ReactChild[] = [\n    <line\n      key=\"RowLineFirst\"\n      x=\"0\"\n      y1={0}\n      x2={svgWidth}\n      y2={0}\n      className={styles.gridRowLine}\n    />,\n  ];\n  for (const task of tasks) {\n    gridRows.push(\n      <rect\n        key={\"Row\" + task.id}\n        x=\"0\"\n        y={y}\n        width={svgWidth}\n        height={rowHeight}\n        className={styles.gridRow}\n      />\n    );\n    rowLines.push(\n      <line\n        key={\"RowLine\" + task.id}\n        x=\"0\"\n        y1={y + rowHeight}\n        x2={svgWidth}\n        y2={y + rowHeight}\n        className={styles.gridRowLine}\n      />\n    );\n    y += rowHeight;\n  }\n\n  const now = new Date();\n  let tickX = 0;\n  const ticks: ReactChild[] = [];\n  let today: ReactChild = <rect />;\n  for (let i = 0; i < dates.length; i++) {\n    const date = dates[i];\n    ticks.push(\n      <line\n        key={date.getTime()}\n        x1={tickX}\n        y1={0}\n        x2={tickX}\n        y2={y}\n        className={styles.gridTick}\n      />\n    );\n    if (\n      (i + 1 !== dates.length &&\n        date.getTime() < now.getTime() &&\n        dates[i + 1].getTime() >= now.getTime()) ||\n      // if current date is last\n      (i !== 0 &&\n        i + 1 === dates.length &&\n        date.getTime() < now.getTime() &&\n        addToDate(\n          date,\n          date.getTime() - dates[i - 1].getTime(),\n          \"millisecond\"\n        ).getTime() >= now.getTime())\n    ) {\n      today = (\n        <rect\n          x={tickX}\n          y={0}\n          width={columnWidth}\n          height={y}\n          fill={todayColor}\n        />\n      );\n    }\n    // rtl for today\n    if (\n      rtl &&\n      i + 1 !== dates.length &&\n      date.getTime() >= now.getTime() &&\n      dates[i + 1].getTime() < now.getTime()\n    ) {\n      today = (\n        <rect\n          x={tickX + columnWidth}\n          y={0}\n          width={columnWidth}\n          height={y}\n          fill={todayColor}\n        />\n      );\n    }\n    tickX += columnWidth;\n  }\n  return (\n    <g className=\"gridBody\">\n      <g className=\"rows\">{gridRows}</g>\n      <g className=\"rowLines\">{rowLines}</g>\n      <g className=\"ticks\">{ticks}</g>\n      <g className=\"today\">{today}</g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { GridBody, GridBodyProps } from \"./grid-body\";\n\nexport type GridProps = GridBodyProps;\nexport const Grid: React.FC<GridProps> = props => {\n  return (\n    <g className=\"grid\">\n      <GridBody {...props} />\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./calendar.module.css\";\n\ntype TopPartOfCalendarProps = {\n  value: string;\n  x1Line: number;\n  y1Line: number;\n  y2Line: number;\n  xText: number;\n  yText: number;\n};\n\nexport const TopPartOfCalendar: React.FC<TopPartOfCalendarProps> = ({\n  value,\n  x1Line,\n  y1Line,\n  y2Line,\n  xText,\n  yText,\n}) => {\n  return (\n    <g className=\"calendarTop\">\n      <line\n        x1={x1Line}\n        y1={y1Line}\n        x2={x1Line}\n        y2={y2Line}\n        className={styles.calendarTopTick}\n        key={value + \"line\"}\n      />\n      <text\n        key={value + \"text\"}\n        y={yText}\n        x={xText}\n        className={styles.calendarTopText}\n      >\n        {value}\n      </text>\n    </g>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { ViewMode } from \"../../types/public-types\";\nimport { TopPartOfCalendar } from \"./top-part-of-calendar\";\nimport {\n  getCachedDateTimeFormat,\n  getDaysInMonth,\n  getLocalDayOfWeek,\n  getLocaleMonth,\n  getWeekNumberISO8601,\n} from \"../../helpers/date-helper\";\nimport { DateSetup } from \"../../types/date-setup\";\nimport styles from \"./calendar.module.css\";\n\nexport type CalendarProps = {\n  dateSetup: DateSetup;\n  locale: string;\n  viewMode: ViewMode;\n  rtl: boolean;\n  headerHeight: number;\n  columnWidth: number;\n  fontFamily: string;\n  fontSize: string;\n};\n\nexport const Calendar: React.FC<CalendarProps> = ({\n  dateSetup,\n  locale,\n  viewMode,\n  rtl,\n  headerHeight,\n  columnWidth,\n  fontFamily,\n  fontSize,\n}) => {\n  const getCalendarValuesForYear = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      const bottomValue = date.getFullYear();\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getFullYear() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getFullYear()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={headerHeight}\n            xText={xText}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForQuarterYear = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      // const bottomValue = getLocaleMonth(date, locale);\n      const quarter = \"Q\" + Math.floor((date.getMonth() + 3) / 3);\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {quarter}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getMonth() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getMonth()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={Math.abs(xText)}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForMonth = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      const bottomValue = getLocaleMonth(date, locale);\n      bottomValues.push(\n        <text\n          key={bottomValue + date.getFullYear()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getMonth() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getMonth()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={xText}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForWeek = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    let weeksCount: number = 1;\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = dates.length - 1; i >= 0; i--) {\n      const date = dates[i];\n      let topValue = \"\";\n      if (i === 0 || date.getMonth() !== dates[i - 1].getMonth()) {\n        // top\n        topValue = `${getLocaleMonth(date, locale)}, ${date.getFullYear()}`;\n      }\n      // bottom\n      const bottomValue = `W${getWeekNumberISO8601(date)}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n\n      if (topValue) {\n        // if last day is new month\n        if (i !== dates.length - 1) {\n          topValues.push(\n            <TopPartOfCalendar\n              key={topValue}\n              value={topValue}\n              x1Line={columnWidth * i + weeksCount * columnWidth}\n              y1Line={0}\n              y2Line={topDefaultHeight}\n              xText={columnWidth * i + columnWidth * weeksCount * 0.5}\n              yText={topDefaultHeight * 0.9}\n            />\n          );\n        }\n        weeksCount = 0;\n      }\n      weeksCount++;\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      // ${getLocalDayOfWeek(date, locale, \"short\")}, \n      const bottomValue = `${date\n        .getDate()\n        .toString()}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i + 1 !== dates.length &&\n        date.getMonth() !== dates[i + 1].getMonth()\n      ) {\n        const topValue = getLocaleMonth(date, locale);\n\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * (i + 1)}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={\n              columnWidth * (i + 1) -\n              getDaysInMonth(date.getMonth(), date.getFullYear()) *\n                columnWidth *\n                0.5\n            }\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForPartOfDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const ticks = viewMode === ViewMode.HalfDay ? 2 : 4;\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getCachedDateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i === 0 || date.getDate() !== dates[i - 1].getDate()) {\n        const topValue = `${getLocalDayOfWeek(\n          date,\n          locale,\n          \"short\"\n        )}, ${date.getDate()} ${getLocaleMonth(date, locale)}`;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i + ticks * columnWidth}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * i + ticks * columnWidth * 0.5}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForHour = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getCachedDateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i !== 0 && date.getDate() !== dates[i - 1].getDate()) {\n        const displayDate = dates[i - 1];\n        const topValue = `${getLocalDayOfWeek(\n          displayDate,\n          locale,\n          \"long\"\n        )}, ${displayDate.getDate()} ${getLocaleMonth(displayDate, locale)}`;\n        const topPosition = (date.getHours() - 24) / 2;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + displayDate.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * (i + topPosition)}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n\n    return [topValues, bottomValues];\n  };\n\n  let topValues: ReactChild[] = [];\n  let bottomValues: ReactChild[] = [];\n  switch (dateSetup.viewMode) {\n    case ViewMode.Year:\n      [topValues, bottomValues] = getCalendarValuesForYear();\n      break;\n    case ViewMode.QuarterYear:\n      [topValues, bottomValues] = getCalendarValuesForQuarterYear();\n      break;\n    case ViewMode.Month:\n      [topValues, bottomValues] = getCalendarValuesForMonth();\n      break;\n    case ViewMode.Week:\n      [topValues, bottomValues] = getCalendarValuesForWeek();\n      break;\n    case ViewMode.Day:\n      [topValues, bottomValues] = getCalendarValuesForDay();\n      break;\n    case ViewMode.QuarterDay:\n    case ViewMode.HalfDay:\n      [topValues, bottomValues] = getCalendarValuesForPartOfDay();\n      break;\n    case ViewMode.Hour:\n      [topValues, bottomValues] = getCalendarValuesForHour();\n  }\n  return (\n    <g className=\"calendar\" fontSize={fontSize} fontFamily={fontFamily}>\n      <rect\n        x={0}\n        y={0}\n        width={columnWidth * dateSetup.dates.length}\n        height={headerHeight}\n        className={styles.calendarHeader}\n      />\n      {bottomValues} {topValues}\n    </g>\n  );\n};\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\n\ntype ArrowProps = {\n  taskFrom: BarTask;\n  taskTo: BarTask;\n  rowHeight: number;\n  taskHeight: number;\n  arrowIndent: number;\n  rtl: boolean;\n};\nexport const Arrow: React.FC<ArrowProps> = ({\n  taskFrom,\n  taskTo,\n  rowHeight,\n  taskHeight,\n  arrowIndent,\n  rtl,\n}) => {\n  let path: string;\n  let trianglePoints: string;\n  if (rtl) {\n    [path, trianglePoints] = drownPathAndTriangleRTL(\n      taskFrom,\n      taskTo,\n      rowHeight,\n      taskHeight,\n      arrowIndent\n    );\n  } else {\n    [path, trianglePoints] = drownPathAndTriangle(\n      taskFrom,\n      taskTo,\n      rowHeight,\n      taskHeight,\n      arrowIndent\n    );\n  }\n\n  return (\n    <g className=\"arrow\">\n      <path strokeWidth=\"1.5\" d={path} fill=\"none\" />\n      <polygon points={trianglePoints} />\n    </g>\n  );\n};\n\nconst drownPathAndTriangle = (\n  taskFrom: BarTask,\n  taskTo: BarTask,\n  rowHeight: number,\n  taskHeight: number,\n  arrowIndent: number\n) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskHeight / 2;\n  const taskFromEndPosition = taskFrom.x2 + arrowIndent * 2;\n  const taskFromHorizontalOffsetValue =\n    taskFromEndPosition < taskTo.x1 ? \"\" : `H ${taskTo.x1 - arrowIndent}`;\n  const taskToHorizontalOffsetValue =\n    taskFromEndPosition > taskTo.x1\n      ? arrowIndent\n      : taskTo.x1 - taskFrom.x2 - arrowIndent;\n\n  const path = `M ${taskFrom.x2} ${taskFrom.y + taskHeight / 2} \n  h ${arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  ${taskFromHorizontalOffsetValue}\n  V ${taskToEndPosition} \n  h ${taskToHorizontalOffsetValue}`;\n\n  const trianglePoints = `${taskTo.x1},${taskToEndPosition} \n  ${taskTo.x1 - 5},${taskToEndPosition - 5} \n  ${taskTo.x1 - 5},${taskToEndPosition + 5}`;\n  return [path, trianglePoints];\n};\n\nconst drownPathAndTriangleRTL = (\n  taskFrom: BarTask,\n  taskTo: BarTask,\n  rowHeight: number,\n  taskHeight: number,\n  arrowIndent: number\n) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskHeight / 2;\n  const taskFromEndPosition = taskFrom.x1 - arrowIndent * 2;\n  const taskFromHorizontalOffsetValue =\n    taskFromEndPosition > taskTo.x2 ? \"\" : `H ${taskTo.x2 + arrowIndent}`;\n  const taskToHorizontalOffsetValue =\n    taskFromEndPosition < taskTo.x2\n      ? -arrowIndent\n      : taskTo.x2 - taskFrom.x1 + arrowIndent;\n\n  const path = `M ${taskFrom.x1} ${taskFrom.y + taskHeight / 2} \n  h ${-arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  ${taskFromHorizontalOffsetValue}\n  V ${taskToEndPosition} \n  h ${taskToHorizontalOffsetValue}`;\n\n  const trianglePoints = `${taskTo.x2},${taskToEndPosition} \n  ${taskTo.x2 + 5},${taskToEndPosition + 5} \n  ${taskTo.x2 + 5},${taskToEndPosition - 5}`;\n  return [path, trianglePoints];\n};\n","import { Task } from \"../types/public-types\";\nimport { BarTask, TaskTypeInternal } from \"../types/bar-task\";\nimport { BarMoveAction } from \"../types/gantt-task-actions\";\n\nexport const convertToBarTasks = (\n  tasks: Task[],\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string,\n  projectProgressColor: string,\n  projectProgressSelectedColor: string,\n  projectBackgroundColor: string,\n  projectBackgroundSelectedColor: string,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n) => {\n  let barTasks = tasks.map((t, i) => {\n    return convertToBarTask(\n      t,\n      i,\n      dates,\n      columnWidth,\n      rowHeight,\n      taskHeight,\n      barCornerRadius,\n      handleWidth,\n      rtl,\n      barProgressColor,\n      barProgressSelectedColor,\n      barBackgroundColor,\n      barBackgroundSelectedColor,\n      projectProgressColor,\n      projectProgressSelectedColor,\n      projectBackgroundColor,\n      projectBackgroundSelectedColor,\n      milestoneBackgroundColor,\n      milestoneBackgroundSelectedColor\n    );\n  });\n\n  // set dependencies\n  barTasks = barTasks.map(task => {\n    const dependencies = task.dependencies || [];\n    for (let j = 0; j < dependencies.length; j++) {\n      const dependence = barTasks.findIndex(\n        value => value.id === dependencies[j]\n      );\n      if (dependence !== -1) barTasks[dependence].barChildren.push(task);\n    }\n    return task;\n  });\n\n  return barTasks;\n};\n\nconst convertToBarTask = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string,\n  projectProgressColor: string,\n  projectProgressSelectedColor: string,\n  projectBackgroundColor: string,\n  projectBackgroundSelectedColor: string,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n): BarTask => {\n  let barTask: BarTask;  \n  switch (task.type) {\n    case \"milestone\":\n      barTask = convertToMilestone(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        milestoneBackgroundColor,\n        milestoneBackgroundSelectedColor\n      );\n      break;\n    case \"project\":\n      barTask = convertToBar(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        projectProgressColor,\n        projectProgressSelectedColor,\n        projectBackgroundColor,\n        projectBackgroundSelectedColor\n      );\n      break;\n    default:\n      barTask = convertToBar(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor\n      );\n      break;\n  }\n  return barTask;\n};\n\nconst convertToBar = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string\n): BarTask => {\n  let x1: number;\n  let x2: number;\n  if (rtl) {\n    x2 = taskXCoordinateRTL(task.start, dates, columnWidth);\n    x1 = taskXCoordinateRTL(task.end, dates, columnWidth);\n  } else {\n    x1 = taskXCoordinate(task.start, dates, columnWidth);\n    x2 = taskXCoordinate(task.end, dates, columnWidth);\n  }\n  let typeInternal: TaskTypeInternal = task.type;\n  if (typeInternal === \"task\" && x2 - x1 < handleWidth * 2) {\n    typeInternal = \"smalltask\";\n    x2 = x1 + handleWidth * 2;\n  }\n\n  const [progressWidth, progressX] = progressWithByParams(\n    x1,\n    x2,\n    task.progress,\n    rtl\n  );\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n  const hideChildren = task.type === \"project\" ? task.hideChildren : undefined;\n\n  const styles = {\n    backgroundColor: barBackgroundColor,\n    backgroundSelectedColor: barBackgroundSelectedColor,\n    progressColor: barProgressColor,\n    progressSelectedColor: barProgressSelectedColor,\n    ...task.styles,\n  };\n  return {\n    ...task,\n    typeInternal,\n    x1,\n    x2,\n    y,\n    index,\n    progressX,\n    progressWidth,\n    barCornerRadius,\n    handleWidth,\n    hideChildren,\n    height: taskHeight,\n    barChildren: [],\n    styles,\n  };\n};\n\nconst convertToMilestone = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n): BarTask => {\n  const x = taskXCoordinate(task.start, dates, columnWidth);\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n\n  const x1 = x - taskHeight * 0.5;\n  const x2 = x + taskHeight * 0.5;\n\n  const rotatedHeight = taskHeight / 1.414;\n  const styles = {\n    backgroundColor: milestoneBackgroundColor,\n    backgroundSelectedColor: milestoneBackgroundSelectedColor,\n    progressColor: \"\",\n    progressSelectedColor: \"\",\n    ...task.styles,\n  };\n  return {\n    ...task,\n    end: task.start,\n    x1,\n    x2,\n    y,\n    index,\n    progressX: 0,\n    progressWidth: 0,\n    barCornerRadius,\n    handleWidth,\n    typeInternal: task.type,\n    progress: 0,\n    height: rotatedHeight,\n    hideChildren: undefined,\n    barChildren: [],\n    styles,\n  };\n};\n\nconst taskXCoordinate = (xDate: Date, dates: Date[], columnWidth: number) => {\n\n  const indexx = dates.findIndex(d => d.getTime() >= xDate.getTime()) - 1;\n  const index = (indexx>=0)?indexx:0;\n  \n  const remainderMillis = xDate.getTime() - dates[index].getTime();\n  const percentOfInterval =\n    remainderMillis / (dates[index + 1].getTime() - dates[index].getTime());\n  const x = index * columnWidth + percentOfInterval * columnWidth;\n  return x;\n};\nconst taskXCoordinateRTL = (\n  xDate: Date,\n  dates: Date[],\n  columnWidth: number\n) => {\n  let x = taskXCoordinate(xDate, dates, columnWidth);\n  x += columnWidth;\n  return x;\n};\nconst taskYCoordinate = (\n  index: number,\n  rowHeight: number,\n  taskHeight: number\n) => {\n  const y = index * rowHeight + (rowHeight - taskHeight) / 2;\n  return y;\n};\n\nexport const progressWithByParams = (\n  taskX1: number,\n  taskX2: number,\n  progress: number,\n  rtl: boolean\n) => {\n  const progressWidth = (taskX2 - taskX1) * progress * 0.01;\n  let progressX: number;\n  if (rtl) {\n    progressX = taskX2 - progressWidth;\n  } else {\n    progressX = taskX1;\n  }\n  return [progressWidth, progressX];\n};\n\nexport const progressByProgressWidth = (\n  progressWidth: number,\n  barTask: BarTask\n) => {\n  const barWidth = barTask.x2 - barTask.x1;\n  const progressPercent = Math.round((progressWidth * 100) / barWidth);\n  if (progressPercent >= 100) return 100;\n  else if (progressPercent <= 0) return 0;\n  else return progressPercent;\n};\n\nconst progressByX = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 100;\n  else if (x <= task.x1) return 0;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((x - task.x1) * 100) / barWidth);\n    return progressPercent;\n  }\n};\nconst progressByXRTL = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 0;\n  else if (x <= task.x1) return 100;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((task.x2 - x) * 100) / barWidth);\n    return progressPercent;\n  }\n};\n\nexport const getProgressPoint = (\n  progressX: number,\n  taskY: number,\n  taskHeight: number\n) => {\n  const point = [\n    progressX - 5,\n    taskY + taskHeight,\n    progressX + 5,\n    taskY + taskHeight,\n    progressX,\n    taskY + taskHeight - 8.66,\n  ];\n  return point.join(\",\");\n};\n\nconst startByX = (x: number, xStep: number, task: BarTask) => {\n  if (x >= task.x2 - task.handleWidth * 2) {\n    x = task.x2 - task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x1 + additionalXValue;\n  return newX;\n};\n\nconst endByX = (x: number, xStep: number, task: BarTask) => {\n  if (x <= task.x1 + task.handleWidth * 2) {\n    x = task.x1 + task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x2) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x2 + additionalXValue;\n  return newX;\n};\n\nconst moveByX = (x: number, xStep: number, task: BarTask) => {\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX1 = task.x1 + additionalXValue;\n  const newX2 = newX1 + task.x2 - task.x1;\n  return [newX1, newX2];\n};\n\nconst dateByX = (\n  x: number,\n  taskX: number,\n  taskDate: Date,\n  xStep: number,\n  timeStep: number\n) => {\n  let newDate = new Date(((x - taskX) / xStep) * timeStep + taskDate.getTime());\n  newDate = new Date(\n    newDate.getTime() +\n      (newDate.getTimezoneOffset() - taskDate.getTimezoneOffset()) * 60000\n  );\n  return newDate;\n};\n\n/**\n * Method handles event in real time(mousemove) and on finish(mouseup)\n */\nexport const handleTaskBySVGMouseEvent = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number,\n  rtl: boolean\n): { isChanged: boolean; changedTask: BarTask } => {\n  let result: { isChanged: boolean; changedTask: BarTask };\n  switch (selectedTask.type) {\n    case \"milestone\":\n      result = handleTaskBySVGMouseEventForMilestone(\n        svgX,\n        action,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta\n      );\n      break;\n    default:\n      result = handleTaskBySVGMouseEventForBar(\n        svgX,\n        action,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n      break;\n  }\n  return result;\n};\n\nconst handleTaskBySVGMouseEventForBar = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number,\n  rtl: boolean\n): { isChanged: boolean; changedTask: BarTask } => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"progress\":\n      if (rtl) {\n        changedTask.progress = progressByXRTL(svgX, selectedTask);\n      } else {\n        changedTask.progress = progressByX(svgX, selectedTask);\n      }\n      isChanged = changedTask.progress !== selectedTask.progress;\n      if (isChanged) {\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    case \"start\": {\n      const newX1 = startByX(svgX, xStep, selectedTask);\n      changedTask.x1 = newX1;\n      isChanged = changedTask.x1 !== selectedTask.x1;\n      if (isChanged) {\n        if (rtl) {\n          changedTask.end = dateByX(\n            newX1,\n            selectedTask.x1,\n            selectedTask.end,\n            xStep,\n            timeStep\n          );\n        } else {\n          changedTask.start = dateByX(\n            newX1,\n            selectedTask.x1,\n            selectedTask.start,\n            xStep,\n            timeStep\n          );\n        }\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n    case \"end\": {\n      const newX2 = endByX(svgX, xStep, selectedTask);\n      changedTask.x2 = newX2;\n      isChanged = changedTask.x2 !== selectedTask.x2;\n      if (isChanged) {\n        if (rtl) {\n          changedTask.start = dateByX(\n            newX2,\n            selectedTask.x2,\n            selectedTask.start,\n            xStep,\n            timeStep\n          );\n        } else {\n          changedTask.end = dateByX(\n            newX2,\n            selectedTask.x2,\n            selectedTask.end,\n            xStep,\n            timeStep\n          );\n        }\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = dateByX(\n          newMoveX2,\n          selectedTask.x2,\n          selectedTask.end,\n          xStep,\n          timeStep\n        );\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n\nconst handleTaskBySVGMouseEventForMilestone = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number\n): { isChanged: boolean; changedTask: BarTask } => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = changedTask.start;\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n","import { BarTask } from \"../types/bar-task\";\nimport { Task } from \"../types/public-types\";\n\nexport function isKeyboardEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.KeyboardEvent {\n  return (event as React.KeyboardEvent).key !== undefined;\n}\n\nexport function isMouseEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.MouseEvent {\n  return (event as React.MouseEvent).clientX !== undefined;\n}\n\nexport function isBarTask(task: Task | BarTask): task is BarTask {\n  return (task as BarTask).x1 !== undefined;\n}\n\nexport function removeHiddenTasks(tasks: Task[]) {\n  const groupedTasks = tasks.filter(\n    t => t.hideChildren && t.type === \"project\"\n  );\n  if (groupedTasks.length > 0) {\n    for (let i = 0; groupedTasks.length > i; i++) {\n      const groupedTask = groupedTasks[i];\n      const children = getChildren(tasks, groupedTask);\n      tasks = tasks.filter(t => children.indexOf(t) === -1);\n    }\n  }\n  return tasks;\n}\n\nfunction getChildren(taskList: Task[], task: Task) {\n  let tasks: Task[] = [];\n  if (task.type !== \"project\") {\n    tasks = taskList.filter(\n      t => t.dependencies && t.dependencies.indexOf(task.id) !== -1\n    );\n  } else {\n    tasks = taskList.filter(t => t.project && t.project === task.id);\n  }\n  var taskChildren: Task[] = [];\n  tasks.forEach(t => {\n    taskChildren.push(...getChildren(taskList, t));\n  })\n  tasks = tasks.concat(tasks, taskChildren);\n  return tasks;\n}\n\nexport const sortTasks = (taskA: Task, taskB: Task) => {\n  const orderA = taskA.displayOrder || Number.MAX_VALUE;\n  const orderB = taskB.displayOrder || Number.MAX_VALUE;\n  if (orderA > orderB) {\n    return 1;\n  } else if (orderA < orderB) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n","import React from \"react\";\nimport style from \"./bar.module.css\";\n\ntype BarDisplayProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  isSelected: boolean;\n  /* progress start point */\n  progressX: number;\n  progressWidth: number;\n  barCornerRadius: number;\n  styles: {\n    backgroundColor: string;\n    backgroundSelectedColor: string;\n    progressColor: string;\n    progressSelectedColor: string;\n  };\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarDisplay: React.FC<BarDisplayProps> = ({\n  x,\n  y,\n  width,\n  height,\n  isSelected,\n  progressX,\n  progressWidth,\n  barCornerRadius,\n  styles,\n  onMouseDown,\n}) => {\n  const getProcessColor = () => {\n    return isSelected ? styles.progressSelectedColor : styles.progressColor;\n  };\n\n  const getBarColor = () => {\n    return isSelected ? styles.backgroundSelectedColor : styles.backgroundColor;\n  };\n\n  return (\n    <g onMouseDown={onMouseDown}>\n      <rect\n        x={x}\n        width={width}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getBarColor()}\n        className={style.barBackground}\n      />\n      <rect\n        x={progressX}\n        width={progressWidth}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getProcessColor()}\n      />\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\n\ntype BarDateHandleProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  barCornerRadius: number;\n  onMouseDown: (event: React.MouseEvent<SVGRectElement, MouseEvent>) => void;\n};\nexport const BarDateHandle: React.FC<BarDateHandleProps> = ({\n  x,\n  y,\n  width,\n  height,\n  barCornerRadius,\n  onMouseDown,\n}) => {\n  return (\n    <rect\n      x={x}\n      y={y}\n      width={width}\n      height={height}\n      className={styles.barHandle}\n      ry={barCornerRadius}\n      rx={barCornerRadius}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\n\ntype BarProgressHandleProps = {\n  progressPoint: string;\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarProgressHandle: React.FC<BarProgressHandleProps> = ({\n  progressPoint,\n  onMouseDown,\n}) => {\n  return (\n    <polygon\n      className={styles.barHandle}\n      points={progressPoint}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport { getProgressPoint } from \"../../../helpers/bar-helper\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarDateHandle } from \"./bar-date-handle\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./bar.module.css\";\n\nexport const Bar: React.FC<TaskItemProps> = ({\n  task,\n  isProgressChangeable,\n  isDateChangeable,\n  rtl,\n  onEventStart,\n  isSelected,\n}) => {\n  const progressPoint = getProgressPoint(\n    +!rtl * task.progressWidth + task.progressX,\n    task.y,\n    task.height\n  );\n  const handleHeight = task.height - 2;\n  return (\n    <g className={styles.barWrapper} tabIndex={0}>\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressX={task.progressX}\n        progressWidth={task.progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isDateChangeable && (\n          <g>\n            {/* left */}\n            <BarDateHandle\n              x={task.x1 + 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={handleHeight}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"start\", task, e);\n              }}\n            />\n            {/* right */}\n            <BarDateHandle\n              x={task.x2 - task.handleWidth - 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={handleHeight}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"end\", task, e);\n              }}\n            />\n          </g>\n        )}\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { getProgressPoint } from \"../../../helpers/bar-helper\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./bar.module.css\";\n\nexport const BarSmall: React.FC<TaskItemProps> = ({\n  task,\n  isProgressChangeable,\n  isDateChangeable,\n  onEventStart,\n  isSelected,\n}) => {\n  const progressPoint = getProgressPoint(\n    task.progressWidth + task.x1,\n    task.y,\n    task.height\n  );\n  return (\n    <g className={styles.barWrapper} tabIndex={0}>\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressX={task.progressX}\n        progressWidth={task.progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./milestone.module.css\";\n\nexport const Milestone: React.FC<TaskItemProps> = ({\n  task,\n  isDateChangeable,\n  onEventStart,\n  isSelected,\n}) => {\n  const transform = `rotate(45 ${task.x1 + task.height * 0.356} \n    ${task.y + task.height * 0.85})`;\n  const getBarColor = () => {\n    return isSelected\n      ? task.styles.backgroundSelectedColor\n      : task.styles.backgroundColor;\n  };\n\n  return (\n    <g tabIndex={0} className={styles.milestoneWrapper}>\n      <rect\n        fill={getBarColor()}\n        x={task.x1}\n        width={task.height}\n        y={task.y}\n        height={task.height}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        transform={transform}\n        className={styles.milestoneBackground}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n    </g>\n  );\n};\n","import React from \"react\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./project.module.css\";\n\nexport const Project: React.FC<TaskItemProps> = ({ task, isSelected }) => {\n  const barColor = isSelected\n    ? task.styles.backgroundSelectedColor\n    : task.styles.backgroundColor;\n  const processColor = isSelected\n    ? task.styles.progressSelectedColor\n    : task.styles.progressColor;\n  const projectWith = task.x2 - task.x1;\n\n  const projectLeftTriangle = [\n    task.x1,\n    task.y + task.height / 2 - 1,\n    task.x1,\n    task.y + task.height,\n    task.x1 + 15,\n    task.y + task.height / 2 - 1,\n  ].join(\",\");\n  const projectRightTriangle = [\n    task.x2,\n    task.y + task.height / 2 - 1,\n    task.x2,\n    task.y + task.height,\n    task.x2 - 15,\n    task.y + task.height / 2 - 1,\n  ].join(\",\");\n\n  return (\n    <g tabIndex={0} className={styles.projectWrapper}>\n      <rect\n        fill={barColor}\n        x={task.x1}\n        width={projectWith}\n        y={task.y}\n        height={task.height}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        className={styles.projectBackground}\n      />\n      <rect\n        x={task.progressX}\n        width={task.progressWidth}\n        y={task.y}\n        height={task.height}\n        ry={task.barCornerRadius}\n        rx={task.barCornerRadius}\n        fill={processColor}\n      />\n      <rect\n        fill={barColor}\n        x={task.x1}\n        width={projectWith}\n        y={task.y}\n        height={task.height / 2}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        className={styles.projectTop}\n      />\n      <polygon\n        className={styles.projectTop}\n        points={projectLeftTriangle}\n        fill={barColor}\n      />\n      <polygon\n        className={styles.projectTop}\n        points={projectRightTriangle}\n        fill={barColor}\n      />\n    </g>\n  );\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { GanttContentMoveAction } from \"../../types/gantt-task-actions\";\nimport { Bar } from \"./bar/bar\";\nimport { BarSmall } from \"./bar/bar-small\";\nimport { Milestone } from \"./milestone/milestone\";\nimport { Project } from \"./project/project\";\nimport style from \"./task-list.module.css\";\n\nexport type TaskItemProps = {\n  task: BarTask;\n  arrowIndent: number;\n  taskHeight: number;\n  isProgressChangeable: boolean;\n  isDateChangeable: boolean;\n  isDelete: boolean;\n  isSelected: boolean;\n  rtl: boolean;\n  onEventStart: (\n    action: GanttContentMoveAction,\n    selectedTask: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => any;\n};\n\nexport const TaskItem: React.FC<TaskItemProps> = props => {\n  const {\n    task,\n    arrowIndent,\n    isDelete,\n    taskHeight,\n    isSelected,\n    rtl,\n    onEventStart,\n  } = {\n    ...props,\n  };\n  const textRef = useRef<SVGTextElement>(null);\n  const [taskItem, setTaskItem] = useState<JSX.Element>(<div />);\n  const [isTextInside, setIsTextInside] = useState(true);\n\n  useEffect(() => {\n    switch (task.typeInternal) {\n      case \"milestone\":\n        setTaskItem(<Milestone {...props} />);\n        break;\n      case \"project\":\n        setTaskItem(<Project {...props} />);\n        break;\n      case \"smalltask\":\n        setTaskItem(<BarSmall {...props} />);\n        break;\n      default:\n        setTaskItem(<Bar {...props} />);\n        break;\n    }\n  }, [task, isSelected]);\n\n  useEffect(() => {\n    if (textRef.current) {\n      setIsTextInside(textRef.current.getBBox().width < task.x2 - task.x1);\n    }\n  }, [textRef, task]);\n\n  const getX = () => {\n    const width = task.x2 - task.x1;\n    const hasChild = task.barChildren.length > 0;\n    if (isTextInside) {\n      return task.x1 + width * 0.5;\n    }\n    if (rtl && textRef.current) {\n      return (\n        task.x1 -\n        textRef.current.getBBox().width -\n        arrowIndent * +hasChild -\n        arrowIndent * 0.2\n      );\n    } else {\n      return task.x1 + width + arrowIndent * +hasChild + arrowIndent * 0.2;\n    }\n  };\n\n  return (\n    <g\n      onKeyDown={e => {\n        switch (e.key) {\n          case \"Delete\": {\n            if (isDelete) onEventStart(\"delete\", task, e);\n            break;\n          }\n        }\n        e.stopPropagation();\n      }}\n      onMouseEnter={e => {\n        onEventStart(\"mouseenter\", task, e);\n      }}\n      onMouseLeave={e => {\n        onEventStart(\"mouseleave\", task, e);\n      }}\n      onDoubleClick={e => {\n        onEventStart(\"dblclick\", task, e);\n      }}\n      onClick={e => {\n        onEventStart(\"click\", task, e);\n      }}\n      onFocus={() => {\n        onEventStart(\"select\", task);\n      }}\n    >\n      {taskItem}\n      <text\n        x={getX()}\n        y={task.y + taskHeight * 0.5}\n        className={\n          isTextInside\n            ? style.barLabel\n            : style.barLabel && style.barLabelOutside\n        }\n        ref={textRef}\n      >\n        {task.name}\n      </text>\n    </g>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { EventOption } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Arrow } from \"../other/arrow\";\nimport { handleTaskBySVGMouseEvent } from \"../../helpers/bar-helper\";\nimport { isKeyboardEvent } from \"../../helpers/other-helper\";\nimport { TaskItem } from \"../task-item/task-item\";\nimport {\n  BarMoveAction,\n  GanttContentMoveAction,\n  GanttEvent,\n} from \"../../types/gantt-task-actions\";\n\nexport type TaskGanttContentProps = {\n  tasks: BarTask[];\n  dates: Date[];\n  ganttEvent: GanttEvent;\n  selectedTask: BarTask | undefined;\n  rowHeight: number;\n  columnWidth: number;\n  timeStep: number;\n  svg?: React.RefObject<SVGSVGElement>;\n  svgWidth: number;\n  taskHeight: number;\n  arrowColor: string;\n  arrowIndent: number;\n  fontSize: string;\n  fontFamily: string;\n  rtl: boolean;\n  setGanttEvent: (value: GanttEvent) => void;\n  setFailedTask: (value: BarTask | null) => void;\n  setSelectedTask: (taskId: string) => void;\n} & EventOption;\n\nexport const TaskGanttContent: React.FC<TaskGanttContentProps> = ({\n  tasks,\n  dates,\n  ganttEvent,\n  selectedTask,\n  rowHeight,\n  columnWidth,\n  timeStep,\n  svg,\n  taskHeight,\n  arrowColor,\n  arrowIndent,\n  fontFamily,\n  fontSize,\n  rtl,\n  setGanttEvent,\n  setFailedTask,\n  setSelectedTask,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onClick,\n  onDelete,\n}) => {\n  const point = svg?.current?.createSVGPoint();\n  const [xStep, setXStep] = useState(0);\n  const [initEventX1Delta, setInitEventX1Delta] = useState(0);\n  const [isMoving, setIsMoving] = useState(false);\n\n  // create xStep\n  useEffect(() => {\n    const dateDelta =\n      dates[1].getTime() -\n      dates[0].getTime() -\n      dates[1].getTimezoneOffset() * 60 * 1000 +\n      dates[0].getTimezoneOffset() * 60 * 1000;\n    const newXStep = (timeStep * columnWidth) / dateDelta;\n    setXStep(newXStep);\n  }, [columnWidth, dates, timeStep]);\n\n  useEffect(() => {\n    const handleMouseMove = async (event: MouseEvent) => {\n      if (!ganttEvent.changedTask || !point || !svg?.current) return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n\n      const { isChanged, changedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        ganttEvent.action as BarMoveAction,\n        ganttEvent.changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n      if (isChanged) {\n        setGanttEvent({ action: ganttEvent.action, changedTask });\n      }\n    };\n\n    const handleMouseUp = async (event: MouseEvent) => {\n      const { action, originalSelectedTask, changedTask } = ganttEvent;\n      if (!changedTask || !point || !svg?.current || !originalSelectedTask)\n        return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n      const { changedTask: newChangedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        action as BarMoveAction,\n        changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n\n      const isNotLikeOriginal =\n        originalSelectedTask.start !== newChangedTask.start ||\n        originalSelectedTask.end !== newChangedTask.end ||\n        originalSelectedTask.progress !== newChangedTask.progress;\n\n      // remove listeners\n      svg.current.removeEventListener(\"mousemove\", handleMouseMove);\n      svg.current.removeEventListener(\"mouseup\", handleMouseUp);\n      setGanttEvent({ action: \"\" });\n      setIsMoving(false);\n\n      // custom operation start\n      let operationSuccess = true;\n      if (\n        (action === \"move\" || action === \"end\" || action === \"start\") &&\n        onDateChange &&\n        isNotLikeOriginal\n      ) {\n        try {\n          const result = await onDateChange(\n            newChangedTask,\n            newChangedTask.barChildren\n          );\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      } else if (onProgressChange && isNotLikeOriginal) {\n        try {\n          const result = await onProgressChange(\n            newChangedTask,\n            newChangedTask.barChildren\n          );\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      }\n\n      // If operation is failed - return old state\n      if (!operationSuccess) {\n        setFailedTask(originalSelectedTask);\n      }\n    };\n\n    if (\n      !isMoving &&\n      (ganttEvent.action === \"move\" ||\n        ganttEvent.action === \"end\" ||\n        ganttEvent.action === \"start\" ||\n        ganttEvent.action === \"progress\") &&\n      svg?.current\n    ) {\n      svg.current.addEventListener(\"mousemove\", handleMouseMove);\n      svg.current.addEventListener(\"mouseup\", handleMouseUp);\n      setIsMoving(true);\n    }\n  }, [\n    ganttEvent,\n    xStep,\n    initEventX1Delta,\n    onProgressChange,\n    timeStep,\n    onDateChange,\n    svg,\n    isMoving,\n    point,\n    rtl,\n    setFailedTask,\n    setGanttEvent,\n  ]);\n\n  /**\n   * Method is Start point of task change\n   */\n  const handleBarEventStart = async (\n    action: GanttContentMoveAction,\n    task: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => {\n    if (!event) {\n      if (action === \"select\") {\n        setSelectedTask(task.id);\n      }\n    }\n    // Keyboard events\n    else if (isKeyboardEvent(event)) {\n      if (action === \"delete\") {\n        if (onDelete) {\n          try {\n            const result = await onDelete(task);\n            if (result !== undefined && result) {\n              setGanttEvent({ action, changedTask: task });\n            }\n          } catch (error) {\n            console.error(\"Error on Delete. \" + error);\n          }\n        }\n      }\n    }\n    // Mouse Events\n    else if (action === \"mouseenter\") {\n      if (!ganttEvent.action) {\n        setGanttEvent({\n          action,\n          changedTask: task,\n          originalSelectedTask: task,\n        });\n      }\n    } else if (action === \"mouseleave\") {\n      if (ganttEvent.action === \"mouseenter\") {\n        setGanttEvent({ action: \"\" });\n      }\n    } else if (action === \"dblclick\") {\n      !!onDoubleClick && onDoubleClick(task);\n    } else if (action === \"click\") {\n      !!onClick && onClick(task);\n    }\n    // Change task event start\n    else if (action === \"move\") {\n      if (!svg?.current || !point) return;\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg.current.getScreenCTM()?.inverse()\n      );\n      setInitEventX1Delta(cursor.x - task.x1);\n      setGanttEvent({\n        action,\n        changedTask: task,\n        originalSelectedTask: task,\n      });\n    } else {\n      setGanttEvent({\n        action,\n        changedTask: task,\n        originalSelectedTask: task,\n      });\n    }\n  };\n\n  return (\n    <g className=\"content\">\n      <g className=\"arrows\" fill={arrowColor} stroke={arrowColor}>\n        {tasks.map(task => {\n          return task.barChildren.map(child => {\n            return (\n              <Arrow\n                key={`Arrow from ${task.id} to ${tasks[child.index].id}`}\n                taskFrom={task}\n                taskTo={tasks[child.index]}\n                rowHeight={rowHeight}\n                taskHeight={taskHeight}\n                arrowIndent={arrowIndent}\n                rtl={rtl}\n              />\n            );\n          });\n        })}\n      </g>\n      <g className=\"bar\" fontFamily={fontFamily} fontSize={fontSize}>\n        {tasks.map(task => {\n          return (\n            <TaskItem\n              task={task}\n              arrowIndent={arrowIndent}\n              taskHeight={taskHeight}\n              isProgressChangeable={!!onProgressChange && !task.isDisabled}\n              isDateChangeable={!!onDateChange && !task.isDisabled}\n              isDelete={!task.isDisabled}\n              onEventStart={handleBarEventStart}\n              key={task.id}\n              isSelected={!!selectedTask && task.id === selectedTask.id}\n              rtl={rtl}\n            />\n          );\n        })}\n      </g>\n    </g>\n  );\n};\n","import React, { useRef, useEffect } from \"react\";\nimport { GridProps, Grid } from \"../grid/grid\";\nimport { CalendarProps, Calendar } from \"../calendar/calendar\";\nimport { TaskGanttContentProps, TaskGanttContent } from \"./task-gantt-content\";\nimport styles from \"./gantt.module.css\";\n\nexport type TaskGanttProps = {\n  gridProps: GridProps;\n  calendarProps: CalendarProps;\n  barProps: TaskGanttContentProps;\n  ganttHeight: number;\n  scrollY: number;\n  scrollX: number;\n};\nexport const TaskGantt: React.FC<TaskGanttProps> = ({\n  gridProps,\n  calendarProps,\n  barProps,\n  ganttHeight,\n  scrollY,\n  scrollX,\n}) => {\n  const ganttSVGRef = useRef<SVGSVGElement>(null);\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  const verticalGanttContainerRef = useRef<HTMLDivElement>(null);\n  const newBarProps = { ...barProps, svg: ganttSVGRef };\n\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  useEffect(() => {\n    if (verticalGanttContainerRef.current) {\n      verticalGanttContainerRef.current.scrollLeft = scrollX;\n    }\n  }, [scrollX]);\n\n  return (\n    <div\n      className={styles.ganttVerticalContainer}\n      ref={verticalGanttContainerRef}\n      dir=\"ltr\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={gridProps.svgWidth}\n        height={calendarProps.headerHeight}\n        fontFamily={barProps.fontFamily}\n      >\n        <Calendar {...calendarProps} />\n      </svg>\n      <div\n        ref={horizontalContainerRef}\n        className={styles.horizontalContainer}\n        style={\n          ganttHeight\n            ? { height: ganttHeight, width: gridProps.svgWidth }\n            : { width: gridProps.svgWidth }\n        }\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width={gridProps.svgWidth}\n          height={barProps.rowHeight * barProps.tasks.length}\n          fontFamily={barProps.fontFamily}\n          ref={ganttSVGRef}\n        >\n          <Grid {...gridProps} />\n          <TaskGanttContent {...newBarProps} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./horizontal-scroll.module.css\";\n\nexport const HorizontalScroll: React.FC<{\n  scroll: number;\n  svgWidth: number;\n  taskListWidth: number;\n  rtl: boolean;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({ scroll, svgWidth, taskListWidth, rtl, onScroll }) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollLeft = scroll;\n    }\n  }, [scroll]);\n\n  return (\n    <div\n      dir=\"ltr\"\n      style={{\n        margin: rtl\n          ? `0px ${taskListWidth}px 0px 0px`\n          : `0px 0px 0px ${taskListWidth}px`,\n      }}\n      className={styles.scrollWrapper}\n      onScroll={onScroll}\n      ref={scrollRef}\n    >\n      <div style={{ width: svgWidth }} className={styles.scroll} />\n    </div>\n  );\n};\n","import React, {\n  useState,\n  SyntheticEvent,\n  useRef,\n  useEffect,\n  useMemo,\n} from \"react\";\nimport { ViewMode, GanttProps, Task } from \"../../types/public-types\";\nimport { GridProps } from \"../grid/grid\";\nimport { ganttDateRange, seedDates } from \"../../helpers/date-helper\";\nimport { CalendarProps } from \"../calendar/calendar\";\nimport { TaskGanttContentProps } from \"./task-gantt-content\";\nimport { TaskListHeaderDefault } from \"../task-list/task-list-header\";\nimport { TaskListTableDefault } from \"../task-list/task-list-table\";\nimport { StandardTooltipContent, Tooltip } from \"../other/tooltip\";\nimport { VerticalScroll } from \"../other/vertical-scroll\";\nimport { TaskListProps, TaskList } from \"../task-list/task-list\";\nimport { TaskGantt } from \"./task-gantt\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { convertToBarTasks } from \"../../helpers/bar-helper\";\nimport { GanttEvent } from \"../../types/gantt-task-actions\";\nimport { DateSetup } from \"../../types/date-setup\";\nimport { HorizontalScroll } from \"../other/horizontal-scroll\";\nimport { removeHiddenTasks, sortTasks } from \"../../helpers/other-helper\";\nimport styles from \"./gantt.module.css\";\n\nexport const Gantt: React.FunctionComponent<GanttProps> = ({\n  tasks,\n  headerHeight = 50,\n  columnWidth = 60,\n  taskWidth = 150,\n  listCellWidth = \"155px\",\n  rowHeight = 50,\n  ganttHeight = 0,\n  viewMode = ViewMode.Day,\n  preStepsCount = 1,\n  locale = \"en-GB\",\n  barFill = 60,\n  barCornerRadius = 3,\n  barProgressColor = \"#a3a3ff\",\n  barProgressSelectedColor = \"#8282f5\",\n  barBackgroundColor = \"#b8c2cc\",\n  barBackgroundSelectedColor = \"#aeb8c2\",\n  projectProgressColor = \"#7db59a\",\n  projectProgressSelectedColor = \"#59a985\",\n  projectBackgroundColor = \"#fac465\",\n  projectBackgroundSelectedColor = \"#f7bb53\",\n  milestoneBackgroundColor = \"#f1c453\",\n  milestoneBackgroundSelectedColor = \"#f29e4c\",\n  rtl = false,\n  handleWidth = 8,\n  timeStep = 300000,\n  arrowColor = \"grey\",\n  fontFamily = \"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue\",\n  fontSize = \"14px\",\n  arrowIndent = 20,\n  todayColor = \"rgba(252, 248, 227, 0.5)\",\n  viewDate,\n  TooltipContent = StandardTooltipContent,\n  TaskListHeader = TaskListHeaderDefault,\n  TaskListTable = TaskListTableDefault,\n  rightSideElement = [],\n  dateTimeStartComponent = [],\n  dateTimeEndComponent = [],\n  isShown= {},\n  fetchData = () => { return; },\n  onClickTask = () => { return; },\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onClick,\n  onDelete,\n  onSelect,\n  onExpanderClick,\n}) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const taskListRef = useRef<HTMLDivElement>(null);\n  const [dateSetup, setDateSetup] = useState<DateSetup>(() => {\n    const [startDate, endDate] = ganttDateRange(tasks, viewMode, preStepsCount);\n    return { viewMode, dates: seedDates(startDate, endDate, viewMode) };\n  });\n  const [currentViewDate, setCurrentViewDate] = useState<Date | undefined>(\n    undefined\n  );\n\n  const [taskListWidth, setTaskListWidth] = useState(0);\n  const [svgContainerWidth, setSvgContainerWidth] = useState(0);\n  const [svgContainerHeight, setSvgContainerHeight] = useState(ganttHeight);\n  const [barTasks, setBarTasks] = useState<BarTask[]>([]);\n  const [ganttEvent, setGanttEvent] = useState<GanttEvent>({\n    action: \"\",\n  });\n  const taskHeight = useMemo(\n    () => (rowHeight * barFill) / 100,\n    [rowHeight, barFill]\n  );\n\n  const [selectedTask, setSelectedTask] = useState<BarTask>();\n  const [failedTask, setFailedTask] = useState<BarTask | null>(null);\n\n  const svgWidth = dateSetup.dates.length * columnWidth;\n  const ganttFullHeight = barTasks.length * rowHeight;\n\n  const [scrollY, setScrollY] = useState(0);\n  const [scrollX, setScrollX] = useState(-1);\n  const [ignoreScrollEvent, setIgnoreScrollEvent] = useState(false);\n\n  // task change events\n  useEffect(() => {\n    let filteredTasks: Task[];\n\n    if (onExpanderClick) {\n      filteredTasks = removeHiddenTasks(tasks);\n    } else {\n      filteredTasks = tasks;\n    }\n\n    filteredTasks = filteredTasks.sort(sortTasks);\n    const [startDate, endDate] = ganttDateRange(\n      filteredTasks,\n      viewMode,\n      preStepsCount\n    );\n\n    let newDates = seedDates(startDate, endDate, viewMode);\n\n    if (rtl) {\n      newDates = newDates.reverse();\n      if (scrollX === -1) {\n        setScrollX(newDates.length * columnWidth);\n      }\n    }\n\n    setDateSetup({ dates: newDates, viewMode });\n    setBarTasks(\n      convertToBarTasks(\n        filteredTasks,\n        newDates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor,\n        projectProgressColor,\n        projectProgressSelectedColor,\n        projectBackgroundColor,\n        projectBackgroundSelectedColor,\n        milestoneBackgroundColor,\n        milestoneBackgroundSelectedColor\n      )\n    );\n  }, [\n    tasks,\n    viewMode,\n    preStepsCount,\n    rowHeight,\n    barCornerRadius,\n    columnWidth,\n    rightSideElement,\n    dateTimeStartComponent,\n    dateTimeEndComponent,\n    isShown,\n    fetchData,\n    onClickTask,\n    taskWidth,\n    taskHeight,\n    handleWidth,\n    barProgressColor,\n    barProgressSelectedColor,\n    barBackgroundColor,\n    barBackgroundSelectedColor,\n    projectProgressColor,\n    projectProgressSelectedColor,\n    projectBackgroundColor,\n    projectBackgroundSelectedColor,\n    milestoneBackgroundColor,\n    milestoneBackgroundSelectedColor,\n    rtl,\n    scrollX,\n    onExpanderClick,\n  ]);\n\n  useEffect(() => {\n    if (\n      viewMode === dateSetup.viewMode &&\n      ((viewDate && !currentViewDate) ||\n        (viewDate && currentViewDate?.valueOf() !== viewDate.valueOf()))\n    ) {\n      const dates = dateSetup.dates;\n      const index = dates.findIndex(\n        (d, i) =>\n          viewDate.valueOf() >= d.valueOf() &&\n          i + 1 !== dates.length &&\n          viewDate.valueOf() < dates[i + 1].valueOf()\n      );\n      if (index === -1) {\n        return;\n      }\n      setCurrentViewDate(viewDate);\n      setScrollX(columnWidth * index);\n    }\n  }, [\n    viewDate,\n    columnWidth,\n    dateSetup.dates,\n    dateSetup.viewMode,\n    viewMode,\n    currentViewDate,\n    setCurrentViewDate,\n  ]);\n\n  useEffect(() => {\n    const { changedTask, action } = ganttEvent;\n    if (changedTask) {\n      if (action === \"delete\") {\n        setGanttEvent({ action: \"\" });\n        setBarTasks(barTasks.filter(t => t.id !== changedTask.id));\n      } else if (\n        action === \"move\" ||\n        action === \"end\" ||\n        action === \"start\" ||\n        action === \"progress\"\n      ) {\n        const prevStateTask = barTasks.find(t => t.id === changedTask.id);\n        if (\n          prevStateTask &&\n          (prevStateTask.start.getTime() !== changedTask.start.getTime() ||\n            prevStateTask.end.getTime() !== changedTask.end.getTime() ||\n            prevStateTask.progress !== changedTask.progress)\n        ) {\n          // actions for change\n          const newTaskList = barTasks.map(t =>\n            t.id === changedTask.id ? changedTask : t\n          );\n          setBarTasks(newTaskList);\n        }\n      }\n    }\n  }, [ganttEvent, barTasks]);\n\n  useEffect(() => {\n    if (failedTask) {\n      setBarTasks(barTasks.map(t => (t.id !== failedTask.id ? t : failedTask)));\n      setFailedTask(null);\n    }\n  }, [failedTask, barTasks]);\n\n  useEffect(() => {\n    if (!listCellWidth) {\n      setTaskListWidth(0);\n    }\n    if (taskListRef.current) {\n      setTaskListWidth(taskListRef.current.offsetWidth);\n    }\n  }, [taskListRef, listCellWidth]);\n\n  useEffect(() => {\n    if (wrapperRef.current) {\n      setSvgContainerWidth(wrapperRef.current.offsetWidth - taskListWidth);\n    }\n  }, [wrapperRef, taskListWidth]);\n\n  useEffect(() => {\n    if (ganttHeight) {\n      setSvgContainerHeight(ganttHeight + headerHeight);\n    } else {\n      setSvgContainerHeight(tasks.length * rowHeight + headerHeight);\n    }\n  }, [ganttHeight, tasks, headerHeight, rowHeight]);\n\n  // scroll events\n  useEffect(() => {\n    const handleWheel = (event: WheelEvent) => {\n      if (event.shiftKey || event.deltaX) {\n        const scrollMove = event.deltaX ? event.deltaX : event.deltaY;\n        let newScrollX = scrollX + scrollMove;\n        if (newScrollX < 0) {\n          newScrollX = 0;\n        } else if (newScrollX > svgWidth) {\n          newScrollX = svgWidth;\n        }\n        setScrollX(newScrollX);\n        event.preventDefault();\n      } else if (ganttHeight) {\n        let newScrollY = scrollY + event.deltaY;\n        if (newScrollY < 0) {\n          newScrollY = 0;\n        } else if (newScrollY > ganttFullHeight - ganttHeight) {\n          newScrollY = ganttFullHeight - ganttHeight;\n        }\n        if (newScrollY !== scrollY) {\n          setScrollY(newScrollY);\n          event.preventDefault();\n        }\n      }\n\n      setIgnoreScrollEvent(true);\n    };\n\n    // subscribe if scroll is necessary\n    wrapperRef.current?.addEventListener(\"wheel\", handleWheel, {\n      passive: false,\n    });\n    return () => {\n      wrapperRef.current?.removeEventListener(\"wheel\", handleWheel);\n    };\n  }, [\n    wrapperRef,\n    scrollY,\n    scrollX,\n    ganttHeight,\n    svgWidth,\n    rtl,\n    ganttFullHeight,\n  ]);\n\n  const handleScrollY = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollY !== event.currentTarget.scrollTop && !ignoreScrollEvent) {\n      setScrollY(event.currentTarget.scrollTop);\n      setIgnoreScrollEvent(true);\n    } else {\n      setIgnoreScrollEvent(false);\n    }\n  };\n\n  const handleScrollX = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollX !== event.currentTarget.scrollLeft && !ignoreScrollEvent) {\n      setScrollX(event.currentTarget.scrollLeft);\n      setIgnoreScrollEvent(true);\n    } else {\n      setIgnoreScrollEvent(false);\n    }\n  };\n\n  /**\n   * Handles arrow keys events and transform it to new scroll\n   */\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    let newScrollY = scrollY;\n    let newScrollX = scrollX;\n    let isX = true;\n    switch (event.key) {\n      case \"Down\": // IE/Edge specific value\n      case \"ArrowDown\":\n        newScrollY += rowHeight;\n        isX = false;\n        break;\n      case \"Up\": // IE/Edge specific value\n      case \"ArrowUp\":\n        newScrollY -= rowHeight;\n        isX = false;\n        break;\n      case \"Left\":\n      case \"ArrowLeft\":\n        newScrollX -= columnWidth;\n        break;\n      case \"Right\": // IE/Edge specific value\n      case \"ArrowRight\":\n        newScrollX += columnWidth;\n        break;\n    }\n    if (isX) {\n      if (newScrollX < 0) {\n        newScrollX = 0;\n      } else if (newScrollX > svgWidth) {\n        newScrollX = svgWidth;\n      }\n      setScrollX(newScrollX);\n    } else {\n      if (newScrollY < 0) {\n        newScrollY = 0;\n      } else if (newScrollY > ganttFullHeight - ganttHeight) {\n        newScrollY = ganttFullHeight - ganttHeight;\n      }\n      setScrollY(newScrollY);\n    }\n    setIgnoreScrollEvent(true);\n  };\n\n  /**\n   * Task select event\n   */\n  const handleSelectedTask = (taskId: string) => {\n    const newSelectedTask = barTasks.find(t => t.id === taskId);\n    const oldSelectedTask = barTasks.find(\n      t => !!selectedTask && t.id === selectedTask.id\n    );\n    if (onSelect) {\n      if (oldSelectedTask) {\n        onSelect(oldSelectedTask, false);\n      }\n      if (newSelectedTask) {\n        onSelect(newSelectedTask, true);\n      }\n    }\n    setSelectedTask(newSelectedTask);\n  };\n  const handleExpanderClick = (task: Task) => {\n    if (onExpanderClick && task.hideChildren !== undefined) {\n      onExpanderClick({ ...task, hideChildren: !task.hideChildren });\n    }\n  };\n  const gridProps: GridProps = {\n    columnWidth,\n    svgWidth,\n    tasks: tasks,\n    rowHeight,\n    dates: dateSetup.dates,\n    todayColor,\n    rtl,\n  };\n  const calendarProps: CalendarProps = {\n    dateSetup,\n    locale,\n    viewMode,\n    headerHeight,\n    columnWidth,\n    fontFamily,\n    fontSize,\n    rtl,\n  };\n  const barProps: TaskGanttContentProps = {\n    tasks: barTasks,\n    dates: dateSetup.dates,\n    ganttEvent,\n    selectedTask,\n    rowHeight,\n    taskHeight,\n    columnWidth,\n    arrowColor,\n    timeStep,\n    fontFamily,\n    fontSize,\n    arrowIndent,\n    svgWidth,\n    rtl,\n    setGanttEvent,\n    setFailedTask,\n    setSelectedTask: handleSelectedTask,\n    onDateChange,\n    onProgressChange,\n    onDoubleClick,\n    onClick,\n    onDelete,\n  };\n\n  const tableProps: TaskListProps = {\n    rowHeight,\n    rowWidth: listCellWidth,\n    taskWidth,\n    rightSideElement,\n    dateTimeStartComponent,\n    dateTimeEndComponent,\n    isShown,\n    fetchData,\n    onClickTask,\n    fontFamily,\n    fontSize,\n    tasks: barTasks,\n    locale,\n    headerHeight,\n    scrollY,\n    ganttHeight,\n    horizontalContainerClass: styles.horizontalContainer,\n    selectedTask,\n    taskListRef,\n    setSelectedTask: handleSelectedTask,\n    onExpanderClick: handleExpanderClick,\n    TaskListHeader,\n    TaskListTable,\n  };\n\n  return (\n    <div>\n      <div\n        className={styles.wrapper}\n        onKeyDown={handleKeyDown}\n        tabIndex={0}\n        ref={wrapperRef}\n      >\n        {listCellWidth && <TaskList {...tableProps} />}\n        <TaskGantt\n          gridProps={gridProps}\n          calendarProps={calendarProps}\n          barProps={barProps}\n          ganttHeight={ganttHeight}\n          scrollY={scrollY}\n          scrollX={scrollX}\n        />\n        {ganttEvent.changedTask && (\n          <Tooltip\n            arrowIndent={arrowIndent}\n            rowHeight={rowHeight}\n            svgContainerHeight={svgContainerHeight}\n            svgContainerWidth={svgContainerWidth}\n            fontFamily={fontFamily}\n            fontSize={fontSize}\n            scrollX={scrollX}\n            scrollY={scrollY}\n            task={ganttEvent.changedTask}\n            headerHeight={headerHeight}\n            taskListWidth={taskListWidth}\n            TooltipContent={TooltipContent}\n            rtl={rtl}\n            svgWidth={svgWidth}\n          />\n        )}\n        <VerticalScroll\n          ganttFullHeight={ganttFullHeight}\n          ganttHeight={ganttHeight}\n          headerHeight={headerHeight}\n          scroll={scrollY}\n          onScroll={handleScrollY}\n          rtl={rtl}\n        />\n      </div>\n      <HorizontalScroll\n        svgWidth={svgWidth}\n        taskListWidth={taskListWidth}\n        scroll={scrollX}\n        rtl={rtl}\n        onScroll={handleScrollX}\n      />\n    </div>\n  );\n};"],"names":["ViewMode","intlDTCache","getCachedDateTimeFormat","locString","opts","key","JSON","stringify","dtf","Intl","DateTimeFormat","addToDate","date","quantity","scale","newDate","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","startOfDate","scores","shouldReset","_scale","maxScore","indexOf","ganttDateRange","tasks","viewMode","preStepsCount","newStartDate","start","newEndDate","task","end","Year","QuarterYear","Month","Week","getMonday","Day","QuarterDay","HalfDay","Hour","seedDates","startDate","endDate","currentDate","dates","push","getLocaleMonth","locale","bottomValue","month","format","replace","toLocaleUpperCase","getLocalDayOfWeek","weekday","day","getDay","diff","setDate","getWeekNumberISO8601","tmpDate","valueOf","dayNumber","firstThursday","setMonth","weekNumber","Math","ceil","toString","length","getDaysInMonth","year","TaskListHeaderDefault","headerHeight","fontFamily","fontSize","rowWidth","taskWidth","isShown","React","className","styles","ganttTable","style","ganttTable_Header","height","ganttTable_HeaderItem","minWidth","textAlign","ganttTable_HeaderSeparator","marginTop","duration","progress","estimatedCost","actualCost","calculateTimeDifference","unit","diffInMs","diffInHours","floor","diffInDays","TaskListTableDefault","rowHeight","rightSideElement","dateTimeStartComponent","dateTimeEndComponent","fetchData","onClickTask","onExpanderClick","useState","hoveredTasks","setHoveredTasks","handleMouseEnter","taskId","prevState","handleMouseLeave","updateTimer","updatedElement","cloneElement","updateStartDatePicker","updateEndDatePicker","taskListWrapper","map","t","expanderSymbol","hideChildren","taskListTableRow","id","taskListCell","maxWidth","position","backgroundColor","title","name","onMouseEnter","onMouseLeave","taskListNameWrapper","taskListExpander","taskListEmptyExpander","onClick","margin","width","right","color","opacity","top","display","alignItems","paddingLeft","border","left","paddingRight","estimated_cost","actual_cost","Tooltip","rtl","svgContainerHeight","svgContainerWidth","scrollX","scrollY","arrowIndent","taskListWidth","TooltipContent","tooltipRef","useRef","relatedY","setRelatedY","relatedX","setRelatedX","useEffect","current","tooltipHeight","offsetHeight","tooltipWidth","offsetWidth","newRelatedY","index","newRelatedX","x1","x2","tooltipLeftmostPoint","fullChartWidth","tooltipLowerPoint","ref","tooltipDetailsContainer","tooltipDetailsContainerHidden","StandardTooltipContent","tooltipDefaultContainer","getTime","tooltipDefaultContainerParagraph","VerticalScroll","scroll","ganttHeight","ganttFullHeight","onScroll","scrollRef","scrollTop","marginLeft","TaskList","selectedTask","setSelectedTask","taskListRef","horizontalContainerClass","TaskListHeader","TaskListTable","horizontalContainerRef","headerProps","selectedTaskId","tableProps","GridBody","svgWidth","columnWidth","todayColor","y","gridRows","rowLines","x","y1","y2","gridRowLine","gridRow","now","tickX","ticks","today","i","gridTick","fill","Grid","props","TopPartOfCalendar","value","x1Line","y1Line","y2Line","xText","yText","calendarTopTick","calendarTopText","Calendar","dateSetup","getCalendarValuesForYear","topValues","bottomValues","topDefaultHeight","calendarBottomText","topValue","getCalendarValuesForQuarterYear","quarter","abs","getCalendarValuesForMonth","getCalendarValuesForWeek","weeksCount","getCalendarValuesForDay","getCalendarValuesForPartOfDay","hour","getCalendarValuesForHour","displayDate","topPosition","calendarHeader","Arrow","taskFrom","taskTo","taskHeight","path","trianglePoints","drownPathAndTriangleRTL","drownPathAndTriangle","strokeWidth","d","points","indexCompare","taskToEndPosition","taskFromEndPosition","taskFromHorizontalOffsetValue","taskToHorizontalOffsetValue","convertToBarTasks","barCornerRadius","handleWidth","barProgressColor","barProgressSelectedColor","barBackgroundColor","barBackgroundSelectedColor","projectProgressColor","projectProgressSelectedColor","projectBackgroundColor","projectBackgroundSelectedColor","milestoneBackgroundColor","milestoneBackgroundSelectedColor","barTasks","convertToBarTask","dependencies","j","dependence","findIndex","barChildren","barTask","type","convertToMilestone","convertToBar","taskXCoordinateRTL","taskXCoordinate","typeInternal","progressWithByParams","progressWidth","progressX","taskYCoordinate","undefined","backgroundSelectedColor","progressColor","progressSelectedColor","rotatedHeight","xDate","indexx","remainderMillis","percentOfInterval","taskX1","taskX2","progressByX","barWidth","progressPercent","round","progressByXRTL","getProgressPoint","taskY","point","join","startByX","xStep","steps","additionalXValue","newX","endByX","moveByX","newX1","newX2","dateByX","taskX","taskDate","timeStep","getTimezoneOffset","handleTaskBySVGMouseEvent","svgX","action","initEventX1Delta","result","handleTaskBySVGMouseEventForMilestone","handleTaskBySVGMouseEventForBar","changedTask","isChanged","newMoveX1","newMoveX2","isKeyboardEvent","event","removeHiddenTasks","groupedTasks","filter","groupedTask","children","getChildren","taskList","project","taskChildren","forEach","concat","sortTasks","taskA","taskB","orderA","displayOrder","Number","MAX_VALUE","orderB","BarDisplay","isSelected","onMouseDown","getProcessColor","getBarColor","ry","rx","barBackground","BarDateHandle","barHandle","BarProgressHandle","progressPoint","Bar","isProgressChangeable","isDateChangeable","onEventStart","handleHeight","barWrapper","tabIndex","e","BarSmall","Milestone","transform","milestoneWrapper","milestoneBackground","Project","barColor","processColor","projectWith","projectLeftTriangle","projectRightTriangle","projectWrapper","projectBackground","projectTop","TaskItem","isDelete","textRef","taskItem","setTaskItem","isTextInside","setIsTextInside","getBBox","getX","hasChild","onKeyDown","stopPropagation","onDoubleClick","onFocus","barLabel","barLabelOutside","TaskGanttContent","ganttEvent","svg","arrowColor","setGanttEvent","setFailedTask","onDateChange","onProgressChange","onDelete","createSVGPoint","setXStep","setInitEventX1Delta","isMoving","setIsMoving","dateDelta","newXStep","handleMouseMove","preventDefault","clientX","cursor","matrixTransform","getScreenCTM","inverse","handleMouseUp","operationSuccess","originalSelectedTask","newChangedTask","isNotLikeOriginal","removeEventListener","addEventListener","handleBarEventStart","error","console","stroke","child","isDisabled","TaskGantt","gridProps","calendarProps","barProps","ganttSVGRef","verticalGanttContainerRef","newBarProps","scrollLeft","ganttVerticalContainer","dir","xmlns","horizontalContainer","HorizontalScroll","scrollWrapper","Gantt","listCellWidth","barFill","viewDate","onSelect","wrapperRef","setDateSetup","currentViewDate","setCurrentViewDate","setTaskListWidth","setSvgContainerWidth","setSvgContainerHeight","setBarTasks","useMemo","failedTask","setScrollY","setScrollX","ignoreScrollEvent","setIgnoreScrollEvent","filteredTasks","sort","newDates","reverse","prevStateTask","find","newTaskList","handleWheel","shiftKey","deltaX","scrollMove","deltaY","newScrollX","newScrollY","passive","handleScrollY","currentTarget","handleScrollX","handleKeyDown","isX","handleSelectedTask","newSelectedTask","oldSelectedTask","handleExpanderClick","wrapper"],"mappings":"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"}